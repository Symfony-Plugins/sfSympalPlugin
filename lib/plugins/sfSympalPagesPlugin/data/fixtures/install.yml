ContentTemplate:
  ContentTemplate_ViewPage:
    name: View Page
    type: View
    ContentType: ContentType_Page
    partial_path: sympal_page/view
  ContentTemplate_ListPage:
    name: List Page
    type: List
    ContentType: ContentType_Page

MenuItem:
  MenuItem_primary:
    name: primary
    is_primary: true
    is_published: true
    label: Home
    Site: Site_default
    ContentType: ContentType_Page
    RelatedContent: Content_Page_home
    children:
      MenuItem_primary_register:
        name: Register
        is_published: true
        label: Register
        Site: Site_default
        RelatedContent: Content_Page_register
        requires_no_auth: true
      MenuItem_primary_signin:
        name: Signin
        is_published: true
        label: Signin
        Site: Site_default
        route: @sympal_signin
        requires_no_auth: true
      MenuItem_primary_signout:
        name: Signout
        is_published: true
        label: Signout
        route: @sympal_signout
        Site: Site_default
        requires_auth: true
      Menuitem_primary_pages:
        name: Pages
        is_published: true
        label: Pages
        is_content_type_list: true
        Site: Site_default
        ContentType: ContentType_Page
      MenuItem_primary_about:
        name: About
        is_published: true
        label: About
        Site: Site_default
        RelatedContent: Content_Page_about
        ContentType: ContentType_Page
        children:
          MenuItem_primary_about_doctrine:
            name: Doctrine
            is_published: true
            label: Doctrine
            Site: Site_default
            route: http://www.doctrine-project.org/about
          MenuItem_primary_about_symfony:
            name: symfony
            is_published: true
            label: symfony
            Site: Site_default
            route: http://www.symfony-project.org/about
          MenuItem_primary_about_sensio_labs:
            name: Sensio Labs
            is_published: true
            label: Sensio Labs
            Site: Site_default
            route: http://www.sensiolabs.com
          MenuItem_primary_about_centresource:
            name: centresource
            is_published: true
            label: "centre{source}"
            Site: Site_default
            route: http://www.centresource.com
      MenuItem_primary_markdown_examples:
        name: Markdown Examples
        is_published: true
        ContentType: ContentType_Page
        Site: Site_default
        label: Markdown Examples
        RelatedContent: Content_Page_markdown_examples
      MenuItem_primary_readme:
        name: README
        is_published: true
        ContentType: ContentType_Page
        Site: Site_default
        label: README
        RelatedContent: Content_Page_readme
      MenuItem_primary_trac:
        name: Trac
        is_published: true
        Site: Site_default
        label: Trac
        route: http://trac.jwage.com/sympal
  MenuItem_footer:
    name: footer
    is_published: true
    label: Home
    Site: Site_default
    ContentType: ContentType_Page
    RelatedContent: Content_Page_home
    children:
      MenuItem_footer_about:
        name: About
        is_published: true
        label: About
        Site: Site_default
        RelatedContent: Content_Page_about
        ContentType: ContentType_Page
      MenuItem_footer_markdown_examples:
        name: Markdown Examples
        is_published: true
        label: Markdown Examples
        Site: Site_default
        RelatedContent: Content_Page_markdown_examples
        ContentType: ContentType_Page
      MenuItem_footer_readme:
        name: README
        is_published: true
        label: README
        Site: Site_default
        RelatedContent: Content_Page_readme
        ContentType: ContentType_Page

Content:
  Content_Page_register:
    Type: ContentType_Page
    slug: register
    Site: Site_default
    is_published: true
    custom_path: /register
    Slots: [Register_slot_body]
    CreatedBy: admin
  Content_Page_home:
    Type: ContentType_Page
    slug: home
    Site: Site_default
    is_published: true
    custom_path: "/"
    Slots: [Home_slot_body]
    CreatedBy: admin
  Content_Page_about:
    Type: ContentType_Page
    slug: about
    Site: Site_default
    is_published: true
    Slots: [About_slot_body]
    CreatedBy: admin
  Content_Page_markdown_examples:
    Type: ContentType_Page
    slug: markdown-examples
    Site: Site_default
    is_published: true
    Slots: [Markdown_examples_slot_body]
    CreatedBy: admin
  Content_Page_readme:
    Type: ContentType_Page
    slug: readme
    Site: Site_default
    is_published: true
    Slots: [Readme_slot_body]
    CreatedBy: admin

ContentSlot:
  Readme_slot_body:
    name: body
    Type: ContentSlotType_Markdown
    value: |
      [?php echo file_get_contents($sf_context->getConfiguration()->getPluginConfiguration('sfSympalPlugin')->getRootDir().'/README') ?]
  Register_slot_body:
    name: body
    Type: ContentSlotType_Markdown
    value: |
      [?php echo get_component('sympal_register', 'form') ?]
  Home_slot_body:
    name: body
    Type: ContentSlotType_Markdown
    value: |
      Welcome to the default Sympal layout. You can sign in below and get started
      using Sympal.

      [?php if (!$sf_user->isAuthenticated()): ?]
        [?php echo get_component('sympal_auth', 'signin_form') ?]
      [?php endif; ?]
  About_slot_body:
    name: body
    Type: ContentSlotType_Markdown
    value: |
      Sympal was born through the desire to have a solid content management 
      framework built on top of Symfony. The idea quickly expanded and Sympal
      became an extension for Symfony that provides lots of new functionality
      to help with producing content based web applications. Below is a list of
      some of the features.

      # Features

      * Plug n' Play Architecture
      * Internationalization
      * Multiple Sites
      * Custom Content Types
      * Custom Content Slot Types
      * Multiple Menus
      * Use PHP in your Content
      * Configurable/Extensible
      * Page Caching
      * Database Caching
  Markdown_examples_slot_body:
    name: body
    Type: ContentSlotType_Markdown
    value: |
      Example Table
      -------------

      | Column 1        | Column 2   |
      |-------------|--------------|
      | col 1 value 1  | col 2 value    |
      | col 1 value 2 | col 2 value2 |

      Example YAML Highlighting
      -------------------------

          [yml]
          User:
            columns:
              username: string(255)
              password: string(255)

      Example SQL Highlighting
      ------------------------

          [sql]
          SELECT id, name, description FROM table;

      Example PHP Syntax Highlighting
      -------------------------------

          [php]
          echo 'test';

      Example Quote Box
      -----------------

      >**QUOTE**
      >Some cool cool old quote.

      #Example Sidebar Box
      --------------------

      >**SIDEBAR**
      >This is the title of the sidebar
      >
      >Testing this out

      Example Tip Box
      ---------------

      >**TIP**
      >Tip

      Example Note Box
      ----------------

      >**NOTE**
      >Note

      Example Caution Box
      -------------------

      >**CAUTION**
      >Testing

Page:
  register:
    title: Register
    Content: Content_Page_register
    disable_comments: true
  home:
    title: Home
    Content: Content_Page_home
    disable_comments: true
  about:
    title: About
    Content: Content_Page_about
  markdown_examples:
    title: Markdown Examples
    Content: Content_Page_markdown_examples
  readme:
    title: README
    Content: Content_Page_readme

ContentType:
  ContentType_Page:
    Site: Site_default
    plugin_name: sfSympalPagesPlugin
    name: Page
    description: The page content type is the default Sympal content type. It is a simple page that only consists of a title and body. The contents of the body are a sympal content slot that can be filled with your selected type of content.
    label: Page
<?php if (sfSympalConfig::isI18nEnabled('ContentType')): ?> 
    view_path: /pages/:sf_culture/:slug
    list_path: /pages/:sf_culture
<?php else: ?>
    view_path: /pages/:slug
    list_path: /pages
<?php endif; ?>